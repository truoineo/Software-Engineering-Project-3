:root{
  --bg: #ffffff;
  --card: #ffffff;
  --border: #e5e7eb;
  --primary: #111827;
  --primary-hover: #000000;
  --text: #111827;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --btn-padding-y-sm: 6px;
  --btn-padding-x-sm: 12px;
  --btn-font-size-sm: 0.875rem;
  --btn-padding-y-md: 10px;
  --btn-padding-x-md: 16px;
  --btn-font-size-md: 1rem;
  --btn-padding-y-lg: 12px;
  --btn-padding-x-lg: 20px;
  --btn-font-size-lg: 1.0625rem;
}
*{box-sizing:border-box}
html, body, #root{ height: 100%; }
body{ margin: 0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }

@keyframes fadeInUp {
  from { opacity: 0; transform: translate3d(0, 12px, 0); }
  to { opacity: 1; transform: translate3d(0, 0, 0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale3d(0.92, 0.92, 1); }
  to { opacity: 1; transform: scale3d(1, 1, 1); }
}

@keyframes shimmer {
  0% { background-position: -200px 0; }
  100% { background-position: 200px 0; }
}

.app-container{ min-height: 100%; display:flex; flex-direction:column; }
.app-body{ flex:1; width:100%; max-width: 1280px; margin: 0 auto; padding: var(--space-3) var(--space-4); }

.topbar{ position: sticky; top:0; z-index:10; display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; gap: var(--space-3); padding: var(--space-3) var(--space-4); background:#f3f4f6; border-bottom:1px solid var(--border); color: var(--text); }
.topbar-left{ opacity: .9; color: var(--text); }
.topbar-center{ display:flex; justify-content:center; }
.topbar-right{ display:flex; justify-content:flex-end; }
.topbar-center .btn + .btn{ margin-left: var(--space-2); }

.btn{ cursor:pointer; border:1px solid transparent; border-radius:var(--radius-md); font-weight:600; line-height:1.2; padding:var(--btn-padding-y-md) var(--btn-padding-x-md); font-size:var(--btn-font-size-md); transition:background .15s ease, color .15s ease, border-color .15s ease; }
.btn.btn-sm{ padding:var(--btn-padding-y-sm) var(--btn-padding-x-sm); font-size:var(--btn-font-size-sm); border-radius:var(--radius-sm); }
.btn.btn-lg{ padding:var(--btn-padding-y-lg) var(--btn-padding-x-lg); font-size:var(--btn-font-size-lg); border-radius:var(--radius-lg); }
.btn-primary{ background: var(--primary); color:#fff; border-color: #000; }
.btn-primary:hover{ background: var(--primary-hover); }
.btn-ghost{ background:#ffffff; color:#111827; border:1px solid #d1d5db; }
.btn-ghost:hover{ background:#f3f4f6; }
.btn-danger{ background:#ef4444; color:#fff; border-color:#b91c1c; }
.btn-danger:hover{ background:#dc2626; }

.profile-btn{ width:40px; height:40px; border-radius:9999px; border:1px solid #111827; background:#ffffff; color:#111827; font-weight:700; transition:background .15s ease; }
.profile-btn:hover{ background:#f3f4f6; }

.page{ animation: fadeInUp 320ms ease-out; }
.page h2{ margin: var(--space-3) var(--space-1); }
.create-page{ display:flex; flex-direction:column; }
.create-layout{ display:flex; gap:var(--space-4); align-items:flex-start; }
.create-sidebar{ flex:0 0 260px; border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:#ffffff; position:sticky; top:var(--space-4); height:fit-content; animation: fadeInUp 340ms ease-out; }
.create-progress{ list-style:none; margin:0 0 var(--space-4); padding:0; display:flex; flex-direction:column; gap:var(--space-2); }
.create-progress li{ display:flex; gap:var(--space-3); align-items:center; padding:var(--space-2); border-radius:var(--radius-md); border:1px solid transparent; transition:background .2s ease, border-color .2s ease; }
.create-progress li.is-complete{ background:#ecfdf5; border-color:#6ee7b7; }
.create-progress li:not(.is-complete){ background:#f9fafb; border-color:#e5e7eb; }
.step-index{ width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; background:#1d4ed8; color:#fff; font-size:14px; }
.create-progress li.is-complete .step-index{ background:#059669; }
.step-title{ font-weight:600; color:#111827; }
.step-desc{ font-size:12px; color:#6b7280; }
.create-summary{ border-top:1px solid #e5e7eb; padding-top:var(--space-3); display:flex; flex-direction:column; gap:var(--space-2); }
.create-summary h3{ margin:0; font-size:16px; }
.create-summary dl{ margin:0; display:grid; grid-template-columns:auto 1fr; gap:var(--space-1) var(--space-3); font-size:13px; color:#374151; }
.create-summary dt{ font-weight:600; }
.create-summary dd{ margin:0; color:#111827; }
.create-summary-hint{ font-size:12px; color:#9a3412; background:#fff7ed; border:1px solid #fdba74; border-radius:var(--radius-md); padding:var(--space-2); }
.create-form{ flex:1; display:flex; flex-direction:column; gap:var(--space-4); }
.form-section{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:#ffffff; box-shadow:0 8px 24px rgba(15,23,42,0.05); animation: fadeInUp 360ms ease-out; }
.form-section-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-3); }
.form-section-header h3{ margin:0; font-size:18px; }
.section-status{ font-size:12px; font-weight:600; color:#1d4ed8; background:#eff6ff; padding:4px 8px; border-radius:9999px; }
.rooms{ display:flex; flex-direction:column; gap:var(--space-3); }
.room-card{ display:flex; align-items:center; gap:var(--space-3); border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-3); background:var(--card); transition:border-color .2s ease, box-shadow .2s ease, transform .2s ease; }
.room-card:hover{ transform: translateY(-2px); box-shadow:0 14px 28px rgba(15, 23, 42, 0.12); }
.room-card-warning{ border-color:#f59e0b; box-shadow:0 0 0 1px rgba(245,158,11,0.16); }
.room-label{ flex:1; }
.room-info{ flex:1; display:flex; flex-direction:column; gap:var(--space-2); }
.room-title{ font-weight:700; font-size:16px; color:#111827; margin:0; }
.room-meta{ font-size:13px; color:#4b5563; }
.room-join{ width:120px; }
.empty{ opacity:.7; padding: var(--space-5); text-align:center; }
.empty.small{ padding:var(--space-3) 0; font-size:14px; }
.room-badges{ display:flex; flex-wrap:wrap; gap:var(--space-2); }
.badge{ display:inline-flex; align-items:center; gap:4px; padding:4px 8px; border-radius:9999px; font-size:12px; font-weight:600; text-transform:uppercase; letter-spacing:0.02em; border:1px solid transparent; }
.badge-neutral{ background:#e5e7eb; color:#1f2937; }
.badge-success{ background:#dcfce7; color:#166534; border-color:#86efac; }
.badge-warn{ background:#fef3c7; color:#b45309; border-color:#facc15; }
.badge-danger{ background:#fee2e2; color:#b91c1c; border-color:#f87171; }

.form{ display:flex; flex-direction:column; gap:var(--space-3); max-width:960px; }
.form.create-form{ max-width:none; }
.row{ display:grid; grid-template-columns: 160px 1fr; align-items:center; gap:var(--space-3); }
.row.multi{ grid-template-columns: repeat(3, 1fr); gap:var(--space-4); }
.create-form .row{ align-items:start; }
.row.time-row{ grid-template-columns: repeat(2, minmax(160px, 1fr)); }
.row input{ padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid #d1d5db; background:#ffffff; color:#111827; }
.field{ display:flex; flex-direction:column; align-items:flex-start; gap:var(--space-2); width:100%; }
.field > label{ font-weight:600; font-size:14px; }
.field-hint{ margin:var(--space-1) 0 0; font-size:12px; color:#6b7280; }
.field-hint.error{ color:#b91c1c; }
.date-field{ position:relative; }
.filters{ display:flex; align-items:center; gap:var(--space-2); margin: var(--space-2) 0 var(--space-3); flex-wrap:wrap; }
.filters-label{ font-weight:600; font-size:14px; color:var(--text); }
.filters .select{ width:180px; }
.select{ width:100%; padding:var(--space-2) calc(var(--space-3) + 22px) var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid #d1d5db; background:#ffffff; color:#111827; font-size:15px; line-height:1.3; appearance:none; -webkit-appearance:none; -moz-appearance:none; background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5l4 4 4-4' stroke='%23111827' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right var(--space-3) center; background-size:10px 6px; transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease; }
.select.select-sm{ padding:var(--space-1) calc(var(--space-2) + 18px) var(--space-1) var(--space-2); font-size:13px; border-radius:var(--radius-sm); }
.select.select-lg{ padding:var(--space-3) calc(var(--space-4) + 22px) var(--space-3) var(--space-4); font-size:1rem; border-radius:var(--radius-lg); }
.select:hover{ border-color:#9ca3af; background-color:#f9fafb; }
.select:focus{ border-color:#2563eb; outline:3px solid #93c5fd; outline-offset:2px; }
.select:disabled{ background:#f3f4f6; color:#9ca3af; cursor:not-allowed; }
.select option{ color:#111827; }
.date-trigger{ width:100%; display:flex; justify-content:space-between; align-items:center; gap:var(--space-2); padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid #d1d5db; background:#ffffff; color:#111827; cursor:pointer; font-size:14px; }
.date-trigger:hover{ border-color:#9ca3af; background:#f9fafb; }
.date-trigger:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px; }
.calendar-popover{ position:absolute; top: calc(100% + var(--space-2)); left:0; z-index:20; box-shadow:0 10px 35px rgba(15,23,42,0.15); border-radius:var(--radius-lg); animation: scaleIn 180ms ease-out; }
.row.end{ display:flex; justify-content:flex-end; }
.calendar{ min-width:calc(7 * 36px + 6 * var(--space-1) + 2 * var(--space-3)); display:flex; flex-direction:column; gap:var(--space-2); padding:var(--space-3); background:#ffffff; border:1px solid var(--border); border-radius:var(--radius-lg); }
.calendar-header{ display:flex; align-items:center; justify-content:space-between; font-weight:600; color:#111827; }
.calendar-nav{ border:none; background:transparent; cursor:pointer; font-size:20px; line-height:1; padding:var(--space-1) var(--space-2); border-radius:var(--radius-sm); color:#4b5563; }
.calendar-nav:hover{ background:#f3f4f6; color:#111827; }
.calendar-month{ font-size:16px; }
.calendar-grid{ display:grid; grid-template-columns: repeat(7, minmax(36px, 1fr)); gap:var(--space-1); }
.calendar-weekdays{ font-size:11px; font-weight:600; text-transform:uppercase; color:#6b7280; }
.calendar-weekday{ text-align:center; padding:var(--space-1) 0; }
.calendar-day{ position:relative; border:1px solid transparent; border-radius:var(--radius-md); padding:var(--space-2) 0; background:#ffffff; color:#111827; cursor:pointer; }
.calendar-day.today{ border-color:#9ca3af; }
.calendar-day.selected{ background:var(--primary); color:#ffffff; border-color:#000000; }
.calendar-day.disabled{ background:#f9fafb; color:#9ca3af; cursor:not-allowed; border-color:#e5e7eb; }
.calendar-day.outside{ color:#9ca3af; }
.calendar-day:not(.disabled):hover{ border-color:#9ca3af; background:#f3f4f6; }
.calendar-day:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px; }
.status{ margin-top:var(--space-3); padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid transparent; font-size:14px; }
.status.success{ background:#ecfdf5; border-color:#34d399; color:#047857; }
.status.error{ background:#fef2f2; border-color:#f87171; color:#b91c1c; }

.availability-heatmap{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-3); background:#ffffff; margin: var(--space-3) 0; animation: fadeInUp 320ms ease-out; }
.heatmap-header{ display:flex; justify-content:space-between; font-size:14px; color:#4b5563; margin-bottom:var(--space-2); }
.heatmap-legend{ font-style:italic; }
.heatmap-grid{ display:flex; gap:var(--space-2); overflow-x:auto; padding-bottom:var(--space-1); scrollbar-width:thin; }
.heatmap-grid::-webkit-scrollbar{ height:6px; }
.heatmap-grid::-webkit-scrollbar-track{ background:#f3f4f6; border-radius:9999px; }
.heatmap-grid::-webkit-scrollbar-thumb{ background:#d1d5db; border-radius:9999px; }
.heatmap-grid::-webkit-scrollbar-thumb:hover{ background:#9ca3af; }
.heatmap-cell{ flex:0 0 110px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px; padding:var(--space-2); border-radius:var(--radius-md); background:#f9fafb; color:#1f2937; border:1px solid rgba(209,213,219,0.6); transition: transform .15s ease, box-shadow .15s ease; text-align:center; min-height:88px; }
.heatmap-cell .heatmap-day{ font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:0.04em; }
.heatmap-cell .heatmap-date{ font-size:13px; font-weight:600; color:#1f2937; }
.heatmap-cell .heatmap-count{ font-size:12px; font-weight:600; color:#334155; }
.heatmap-cell.level-0{ background:#f9fafb; }
.heatmap-cell.level-1{ background:#dbeafe; border-color:#bfdbfe; }
.heatmap-cell.level-2{ background:#93c5fd; color:#0f172a; border-color:#60a5fa; }
.heatmap-cell.level-3{ background:#1d4ed8; color:#eff6ff; border-color:#1e40af; box-shadow:0 10px 25px rgba(30,64,175,0.25); }
.heatmap-cell:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(15,23,42,0.12); }

.conflict-banner{ display:flex; align-items:center; gap:var(--space-2); margin-bottom:var(--space-3); padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); background:#fff7ed; color:#9a3412; border:1px solid #fdba74; }

.centered{ min-height:100vh; display:flex; align-items:center; justify-content:center; }
.login-card{ width: min(96vw, 420px); display:flex; flex-direction:column; gap:var(--space-3); padding:var(--space-5); border:1px solid var(--border); border-radius:var(--radius-lg); background:#ffffff; color:#111827; }
.login-card input{ padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid #d1d5db; background:#ffffff; color:#111827; }

.profile-box{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:#ffffff; color:#111827; animation: fadeInUp 360ms ease-out; }
.profile-header{ margin-bottom:var(--space-2); }
.table{ width:100%; border-collapse:collapse; margin-bottom:var(--space-4); }
.table th, .table td{ border-bottom:1px solid #e5e7eb; text-align:left; padding:var(--space-2) var(--space-1); color:#111827; }
.table tr.table-row-warning td{ background:rgba(254,243,199,0.45); }
.profile-room-name{ display:flex; flex-direction:column; align-items:flex-start; gap:2px; }
.profile-room-title{ font-weight:600; color:#111827; }
.profile-room-subtitle{ font-size:12px; color:#6b7280; }
.profile-room-status{ display:flex; flex-direction:column; gap:2px; font-size:12px; color:#4b5563; }
.profile-room-time{ font-weight:600; color:#111827; font-size:13px; }
.profile-room-relative{ font-style:italic; }
.sparkline{ display:flex; gap:2px; height:48px; margin-bottom:var(--space-2); align-items:flex-end; }
.sparkline-bar{ flex:1; background:#f1f5f9; border-radius:var(--radius-sm); overflow:hidden; position:relative; }
.sparkline-fill{ width:100%; background:linear-gradient(180deg, #60a5fa 0%, #2563eb 100%); border-radius:var(--radius-sm); transition:height .15s ease; min-height:6%; }

.skeleton{ position:relative; overflow:hidden; background:linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 37%, #f3f4f6 63%); background-size:400px 100%; animation: shimmer 1.4s infinite ease; border-radius:var(--radius-md); }
.skeleton-text{ display:block; height:12px; width:100%; border-radius:var(--radius-sm); background:transparent; }
.skeleton-btn{ width:120px; height:36px; border-radius:var(--radius-md); }
.table-skeleton{ display:flex; flex-direction:column; gap:var(--space-2); }
.table-skeleton-row{ display:grid; grid-template-columns: repeat(7, minmax(60px, 1fr)); gap:var(--space-2); }

.rooms.is-loading .room-card{ pointer-events:none; }
.heatmap-grid.is-loading .heatmap-cell{ border-color:transparent; }

.skeleton.skeleton-text::before,
.skeleton-btn::before,
.room-card.skeleton::before,
.heatmap-cell.skeleton::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(90deg, rgba(243,244,246,0) 0%, rgba(229,231,235,0.8) 50%, rgba(243,244,246,0) 100%);
  background-size:200% 100%;
  animation: shimmer 1.4s infinite;
}

.skeleton-btn,
.room-card.skeleton,
.heatmap-cell.skeleton{ background:#f1f5f9; }
.skeleton-text::before{ height:100%; border-radius:inherit; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; scroll-behavior:auto !important; }
}
.segmented-control{ display:inline-flex; border-radius:9999px; border:1px solid #d1d5db; padding:4px; background:#f9fafb; }
.segment{ border:none; background:transparent; padding:6px 14px; border-radius:9999px; font-weight:600; color:#4b5563; cursor:pointer; transition:background .2s ease, color .2s ease; }
.segment.is-active{ background:#1d4ed8; color:#ffffff; }
.segment:not(.is-active):hover{ background:#e5e7eb; }
.segment:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px; }
