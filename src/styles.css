:root{
  --bg: #f8fafc;
  --card: #ffffff;
  --surface-muted: #f3f4f6;
  --border: #e2e8f0;
  --primary: #2563eb;
  --primary-hover: #1d4ed8;
  --primary-contrast: #ffffff;
  --primary-surface: rgba(37,99,235,0.12);
  --text: #0f172a;
  --text-muted: #64748b;
  --danger: #ef4444;
  --danger-hover: #dc2626;
  --shadow-soft: 0 8px 24px rgba(15,23,42,0.08);
  --shadow-strong: 0 24px 48px rgba(15,23,42,0.25);
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --btn-padding-y-sm: 6px;
  --btn-padding-x-sm: 12px;
  --btn-font-size-sm: 0.875rem;
  --btn-padding-y-md: 10px;
  --btn-padding-x-md: 16px;
  --btn-font-size-md: 1rem;
  --btn-padding-y-lg: 12px;
  --btn-padding-x-lg: 20px;
  --btn-font-size-lg: 1.0625rem;
}
:root[data-theme='dark']{
  --bg: #000000;
  --card: #0d0d0d;
  --surface-muted: #1a1a1a;
  --border: rgba(255,255,255,0.08);
  --primary: #f5f5f4;
  --primary-hover: #e7e5e4;
  --primary-contrast: #0a0a0a;
  --primary-surface: rgba(245,245,244,0.18);
  --text: #e5e5e5;
  --text-muted: #737373;
  --danger: #f87171;
  --danger-hover: #ef4444;
  --shadow-soft: 0 8px 16px rgba(0,0,0,0.6);
  --shadow-strong: 0 16px 32px rgba(0,0,0,0.8);
}
:root[data-theme='dark'] .section-status{ border-color:rgba(245,245,244,0.28); }
*{box-sizing:border-box}
html, body, #root{ height: 100%; }
body{ margin: 0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }

@keyframes fadeInUp {
  from { opacity: 0; transform: translate3d(0, 12px, 0); }
  to { opacity: 1; transform: translate3d(0, 0, 0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale3d(0.92, 0.92, 1); }
  to { opacity: 1; transform: scale3d(1, 1, 1); }
}

@keyframes shimmer {
  0% { background-position: -200px 0; }
  100% { background-position: 200px 0; }
}

.app-container{ min-height: 100%; display:flex; flex-direction:column; }
.app-body{ flex:1; width:100%; max-width: 1280px; margin: 0 auto; padding: var(--space-3) var(--space-4); }

.topbar{ position: sticky; top:0; z-index:10; display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; gap: var(--space-3); padding: var(--space-3) var(--space-4); background:var(--surface-muted); border-bottom:1px solid var(--border); color: var(--text); -webkit-backdrop-filter:blur(12px); backdrop-filter:blur(12px); }
.topbar-left{ opacity: .9; color: var(--text); }
.topbar-center{ display:flex; justify-content:center; }
.topbar-right{ display:flex; justify-content:flex-end; gap:var(--space-2); align-items:center; }
.topbar-center .btn + .btn{ margin-left: var(--space-2); }

.btn{ cursor:pointer; border:1px solid transparent; border-radius:var(--radius-md); font-weight:600; line-height:1.2; padding:var(--btn-padding-y-md) var(--btn-padding-x-md); font-size:var(--btn-font-size-md); transition:background .18s ease, color .18s ease, border-color .18s ease, transform .18s ease, box-shadow .18s ease; will-change:transform; }
.btn.btn-sm{ padding:var(--btn-padding-y-sm) var(--btn-padding-x-sm); font-size:var(--btn-font-size-sm); border-radius:var(--radius-sm); }
.btn.btn-lg{ padding:var(--btn-padding-y-lg) var(--btn-padding-x-lg); font-size:var(--btn-font-size-lg); border-radius:var(--radius-lg); }
.btn:hover{ transform:translateY(-1px); box-shadow:0 12px 20px rgba(15,23,42,0.08); }
.btn:active{ transform:scale(0.97); box-shadow:none; }
.btn:disabled{ opacity:.55; cursor:not-allowed; transform:none !important; box-shadow:none !important; }
.btn-primary{ background: var(--primary); color:var(--primary-contrast); border-color: transparent; }
.btn-primary:hover{ background: var(--primary-hover); color:var(--primary-contrast); }
.btn-ghost{ background:var(--card); color:var(--text); border:1px solid var(--border); }
.btn-ghost:hover{ background:var(--surface-muted); }
.btn-danger{ background:var(--danger); color:#fff; border-color: transparent; }
.btn-danger:hover{ background:var(--danger-hover); }

.profile-btn{ width:40px; height:40px; border-radius:9999px; border:1px solid var(--border); background:var(--card); color:var(--text); font-weight:700; transition:background .18s ease, transform .18s ease; }
.profile-btn:hover{ background:var(--surface-muted); transform:translateY(-1px); }
.profile-btn:active{ transform:scale(0.95); }
.theme-toggle{ width:40px; height:40px; border-radius:9999px; border:1px solid var(--border); background:var(--card); color:var(--text); font-size:20px; display:flex; align-items:center; justify-content:center; cursor:pointer; transition:background .18s ease, transform .18s ease; }
.theme-toggle svg{ width:20px; height:20px; }
.theme-toggle:hover{ background:var(--surface-muted); transform:translateY(-1px); }
.theme-toggle:active{ transform:scale(0.95); }

.page{ animation: fadeInUp 320ms ease-out; }
.page h2{ margin: var(--space-3) var(--space-1); }
.create-page{ display:flex; flex-direction:column; }
.create-layout{ display:flex; gap:var(--space-4); align-items:flex-start; }
.create-sidebar{ flex:0 0 260px; border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:var(--card); position:sticky; top:var(--space-4); height:fit-content; animation: fadeInUp 340ms ease-out; box-shadow:var(--shadow-soft); }
.create-progress{ list-style:none; margin:0 0 var(--space-4); padding:0; display:flex; flex-direction:column; gap:var(--space-2); }
.create-progress li{ display:flex; gap:var(--space-3); align-items:center; padding:var(--space-2); border-radius:var(--radius-md); border:1px solid transparent; transition:background .2s ease, border-color .2s ease; }
.create-progress li.is-complete{ background:#ecfdf5; border-color:#6ee7b7; }
.create-progress li:not(.is-complete){ background:var(--surface-muted); border-color:var(--border); }
.step-index{ width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; background:#1d4ed8; color:#fff; font-size:14px; }
.create-progress li.is-complete .step-index{ background:#059669; }
.step-title{ font-weight:600; color:var(--text); }
.step-desc{ font-size:12px; color:var(--text-muted); }
.create-summary{ border-top:1px solid var(--border); padding-top:var(--space-3); display:flex; flex-direction:column; gap:var(--space-2); }
.create-summary h3{ margin:0; font-size:16px; }
.create-summary dl{ margin:0; display:grid; grid-template-columns:auto 1fr; gap:var(--space-1) var(--space-3); font-size:13px; color:var(--text-muted); }
.create-summary dt{ font-weight:600; }
.create-summary dd{ margin:0; color:var(--text); }
.create-summary-hint{ font-size:12px; color:#b45309; background:rgba(251,191,36,0.12); border:1px solid rgba(251,191,36,0.55); border-radius:var(--radius-md); padding:var(--space-2); }
.create-form{ flex:1; display:flex; flex-direction:column; gap:var(--space-4); }
.form-section{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:var(--card); box-shadow:var(--shadow-soft); animation: fadeInUp 360ms ease-out; }
.form-section-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-3); }
.form-section-header h3{ margin:0; font-size:18px; }
.section-status{ font-size:12px; font-weight:600; color:var(--primary); background:var(--primary-surface); padding:4px 8px; border-radius:9999px; border:1px solid transparent; }
.rooms{ display:flex; flex-direction:column; gap:var(--space-3); }
.room-card{ display:flex; align-items:center; gap:var(--space-3); border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-3); background:var(--card); transition:border-color .2s ease, box-shadow .2s ease, transform .2s ease; position:relative; overflow:visible; }
.room-card:hover{ transform: translateY(-2px); box-shadow:0 14px 28px rgba(15, 23, 42, 0.12); }
.room-card-warning{ border-color:#f59e0b; box-shadow:0 0 0 1px rgba(245,158,11,0.16); }
.room-label{ flex:1; }
.room-info{ flex:1; display:flex; flex-direction:column; gap:var(--space-2); }
.room-title{ font-weight:700; font-size:16px; color:var(--text); margin:0; }
.room-meta{ display:flex; align-items:center; gap:var(--space-2); flex-wrap:wrap; font-size:13px; color:var(--text-muted); }
.room-meta-text{ color:var(--text-muted); display:inline-flex; align-items:center; gap:var(--space-1); }
.location-trigger{ border:none; background:transparent; color:var(--primary); font-weight:600; cursor:pointer; padding:0; display:inline-flex; align-items:center; gap:6px; transition:color .15s ease; }
.location-trigger::after{ content:''; width:0; height:0; border-style:solid; border-width:4px 0 4px 6px; border-color:transparent transparent transparent currentColor; opacity:0; transform:translateX(-2px); transition:opacity .15s ease, transform .15s ease; }
.location-trigger:hover,
.location-trigger:focus{ color:#1e3a8a; text-decoration:underline; }
.location-trigger:hover::after,
.location-trigger:focus::after{ opacity:1; transform:translateX(0); }
.location-trigger:focus-visible{ outline:3px solid rgba(37,99,235,0.35); outline-offset:2px; border-radius:var(--radius-sm); }
.location-hover-overlay{ position:fixed; width:320px; max-width:calc(100vw - 16px); background:var(--card); border-radius:8px; box-shadow:0 18px 34px rgba(15,23,42,0.18); padding:12px; border:1px solid var(--border); pointer-events:none; color:var(--text); }
.location-hover-overlay::after{ content:''; position:absolute; bottom:-6px; left:var(--hover-overlay-arrow-left, 20px); width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid var(--card); }
.location-hover-overlay::before{ content:''; position:absolute; bottom:-7px; left:calc(var(--hover-overlay-arrow-left, 20px) - 1px); width:0; height:0; border-left:7px solid transparent; border-right:7px solid transparent; border-top:7px solid var(--border); }
.location-hover-overlay[data-placement^='bottom']::after{ top:-6px; bottom:auto; border-top:none; border-bottom:6px solid var(--card); }
.location-hover-overlay[data-placement^='bottom']::before{ top:-7px; bottom:auto; border-top:none; border-bottom:7px solid var(--border); }
.location-hover-photo{ width:100%; height:160px; border-radius:6px; background-size:cover; background-position:center; background-repeat:no-repeat; margin-bottom:8px; }
.location-hover-name{ font-size:16px; font-weight:700; color:var(--text); margin:0 0 4px; }
.location-hover-hint{ margin:4px 0 0; font-size:11px; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.08em; }
.location-modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,0.5); z-index:1000; display:flex; justify-content:center; align-items:center; padding:24px; }
.location-modal{ position:relative; background:var(--card); border-radius:8px; box-shadow:var(--shadow-strong); max-width:500px; width:min(500px, 100%); max-height:90vh; padding:24px; display:flex; flex-direction:column; gap:16px; z-index:1001; color:var(--text); }
.location-modal-body{ display:flex; flex-direction:column; gap:16px; overflow-y:auto; max-height:calc(90vh - 48px); }
.location-modal-photo{ width:100%; height:200px; border-radius:6px; background-size:cover; background-position:center; background-repeat:no-repeat; }
.location-modal-content{ display:flex; flex-direction:column; gap:12px; }
.location-modal-content h3{ margin:0; font-size:20px; color:var(--text); }
.location-modal-address{ margin:0; font-size:14px; color:var(--text-muted); }
.location-modal-link{ color:var(--primary); font-weight:600; text-decoration:none; }
.location-modal-link:hover,
.location-modal-link:focus{ text-decoration:underline; }
.location-modal-facts{ display:flex; flex-wrap:wrap; gap:6px; margin:0; padding:0; list-style:none; }
.location-modal-facts li{ font-size:12px; font-weight:600; color:var(--text); background:rgba(56,189,248,0.15); border-radius:9999px; padding:4px 10px; }
.location-modal-description{ margin:0; font-size:14px; color:var(--text-muted); line-height:1.6; }
.location-modal-close{ position:absolute; top:12px; right:12px; border:none; background:transparent; color:var(--text-muted); width:32px; height:32px; border-radius:9999px; cursor:pointer; font-size:20px; display:flex; align-items:center; justify-content:center; transition:background .15s ease, color .15s ease; }
.location-modal-close:hover,
.location-modal-close:focus{ background:var(--surface-muted); color:var(--text); }
.location-modal-close:focus-visible{ outline:3px solid rgba(37,99,235,0.35); outline-offset:2px; }
.room-join{ width:120px; }
.empty{ opacity:.7; padding: var(--space-5); text-align:center; }
.empty.small{ padding:var(--space-3) 0; font-size:14px; }
.weather-widget{ border:1px solid var(--border); border-radius:var(--radius-lg); background:var(--card); padding:var(--space-4); box-shadow:var(--shadow-soft); display:flex; flex-direction:column; gap:var(--space-3); margin-top:var(--space-3); }
.weather-widget--form{ margin-top:var(--space-4); }
.weather-widget--profile{ margin-top:var(--space-3); }
.weather-widget-header{ display:flex; align-items:center; gap:var(--space-3); }
.weather-widget-badge{ width:44px; height:44px; border-radius:9999px; display:flex; align-items:center; justify-content:center; background:var(--surface-muted); font-size:24px; box-shadow:inset 0 0 0 1px rgba(255,255,255,0.08); }
.weather-widget-badge svg{ width:24px; height:24px; }
.weather-widget-titles{ display:flex; flex-direction:column; gap:4px; }
.weather-widget-titles h3{ margin:0; font-size:16px; color:var(--text); }
.weather-widget-titles p{ margin:0; font-size:13px; color:var(--text-muted); }
.weather-widget-forecast{ display:flex; flex-direction:column; gap:var(--space-3); }
.weather-conditions{ display:flex; align-items:center; gap:var(--space-3); }
.weather-condition-icon{ font-size:40px; line-height:1; }
.weather-condition-icon svg{ width:40px; height:40px; }
.weather-condition-text{ display:flex; flex-direction:column; gap:4px; }
.weather-temperature{ font-size:28px; font-weight:700; color:var(--text); }
.weather-description{ font-size:13px; color:var(--text-muted); text-transform:capitalize; }
.weather-widget-details{ display:grid; grid-template-columns:repeat(auto-fit, minmax(140px,1fr)); gap:var(--space-3); }
.weather-stat{ display:flex; align-items:center; gap:var(--space-2); border-radius:var(--radius-md); padding:var(--space-3); background:var(--surface-muted); }
.weather-stat-icon{ font-size:18px; }
.weather-stat-icon svg{ width:18px; height:18px; }
.weather-stat-metric{ display:flex; flex-direction:column; gap:4px; }
.weather-stat-value{ font-size:16px; font-weight:600; color:var(--text); }
.weather-stat-label{ font-size:12px; color:var(--text-muted); }
.weather-widget-panel{ border-radius:var(--radius-md); padding:var(--space-3); border:1px solid var(--border); background:var(--surface-muted); display:flex; flex-direction:column; gap:var(--space-2); }
.weather-widget-panel h4{ margin:0; font-size:14px; font-weight:700; color:var(--text); }
.weather-widget-panel p{ margin:0; font-size:13px; color:var(--text-muted); line-height:1.5; }
.weather-widget-panel--info{ border-color:rgba(96,165,250,0.45); background:rgba(191,219,254,0.25); }
.weather-widget-panel--warn{ border-color:rgba(248,113,113,0.45); background:rgba(254,226,226,0.35); }
.weather-widget-panel--muted{ opacity:0.92; }
.weather-widget-panel-actions{ display:flex; gap:var(--space-2); flex-wrap:wrap; }
.weather-widget-skeleton{ display:grid; gap:var(--space-2); }
.weather-skeleton-block{ height:18px; border-radius:var(--radius-sm); background:linear-gradient(90deg, rgba(148,163,184,0.18) 0%, rgba(148,163,184,0.34) 50%, rgba(148,163,184,0.18) 100%); background-size:200% 100%; animation: shimmer 1.4s infinite; }
.weather-outlook-list{ margin:0; padding-left:18px; display:flex; flex-direction:column; gap:6px; color:var(--text-muted); font-size:13px; }
.weather-outlook-list li strong{ color:var(--text); }
.weather-outlook-note{ font-style:italic; color:var(--text-muted); }
.weather-widget-panel-body{ display:flex; flex-direction:column; gap:var(--space-2); }
:root[data-theme='dark'] .weather-widget{ background:#0d0d0d; box-shadow:0 18px 30px rgba(0,0,0,0.55); }
:root[data-theme='dark'] .weather-stat{ background:rgba(255,255,255,0.05); }
:root[data-theme='dark'] .weather-widget-panel{ background:rgba(255,255,255,0.04); border-color:rgba(255,255,255,0.08); }
:root[data-theme='dark'] .weather-widget-panel--warn{ border-color:rgba(248,113,113,0.35); background:rgba(127,29,29,0.3); }
:root[data-theme='dark'] .weather-widget-panel--info{ border-color:rgba(96,165,250,0.35); background:rgba(30,58,138,0.35); }
:root[data-theme='dark'] .weather-outlook-note{ color:#cbd5f5; }
:root[data-theme='dark'] .weather-widget-badge{ background:rgba(255,255,255,0.08); box-shadow:none; }
:root[data-theme='dark'] .weather-skeleton-block{ background:linear-gradient(90deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.16) 50%, rgba(255,255,255,0.08) 100%); }
.room-badges{ display:flex; flex-wrap:wrap; gap:var(--space-2); }
.badge{ display:inline-flex; align-items:center; gap:4px; padding:4px 8px; border-radius:9999px; font-size:12px; font-weight:600; text-transform:uppercase; letter-spacing:0.02em; border:1px solid transparent; }
.badge-neutral{ background:#e5e7eb; color:#1f2937; }
.badge-success{ background:#dcfce7; color:#166534; border-color:#86efac; }
.badge-warn{ background:#fef3c7; color:#b45309; border-color:#facc15; }
.badge-danger{ background:#fee2e2; color:#b91c1c; border-color:#f87171; }

.form{ display:flex; flex-direction:column; gap:var(--space-3); max-width:960px; }
.form.create-form{ max-width:none; }
.row{ display:grid; grid-template-columns: 160px 1fr; align-items:center; gap:var(--space-3); }
.row.multi{ grid-template-columns: repeat(3, 1fr); gap:var(--space-4); }
.create-form .row{ align-items:start; }
.row.time-row{ grid-template-columns: repeat(2, minmax(160px, 1fr)); }
.row input{ padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid var(--border); background:var(--card); color:var(--text); }
.field{ display:flex; flex-direction:column; align-items:flex-start; gap:var(--space-2); width:100%; }
.field > label{ font-weight:600; font-size:14px; }
.field-hint{ margin:var(--space-1) 0 0; font-size:12px; color:var(--text-muted); }
.field-hint.error{ color:var(--danger); }
.date-field{ position:relative; }
.filters{ display:flex; align-items:center; gap:var(--space-2); margin: var(--space-2) 0 var(--space-3); flex-wrap:wrap; }
.filters-label{ font-weight:600; font-size:14px; color:var(--text); }
.filters .select{ width:180px; }
.private-access{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:var(--card); margin-bottom:var(--space-4); box-shadow:var(--shadow-soft); display:flex; flex-direction:column; gap:var(--space-3); }
.private-access-header h3{ margin:0; font-size:16px; color:var(--text); }
.private-access-header p{ margin:0; font-size:13px; color:var(--text-muted); }
.private-access-form{ display:flex; flex-wrap:wrap; gap:var(--space-2); align-items:center; }
.private-access-form .select{ flex:1 1 220px; min-width:200px; padding:var(--space-2) var(--space-3); }
.private-access-result{ border:1px dashed var(--border); border-radius:var(--radius-md); padding:var(--space-3); background:var(--surface-muted); }
.private-access-result .room-card{ margin:0; }
.select{ width:100%; padding:var(--space-2) calc(var(--space-3) + 22px) var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid var(--border); background:var(--card); color:var(--text); font-size:15px; line-height:1.3; -webkit-appearance:none; -moz-appearance:none; appearance:none; background-image:url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5l4 4 4-4' stroke='currentColor' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right var(--space-3) center; background-size:10px 6px; transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease; }
.select.select-sm{ padding:var(--space-1) calc(var(--space-2) + 18px) var(--space-1) var(--space-2); font-size:13px; border-radius:var(--radius-sm); }
.select.select-lg{ padding:var(--space-3) calc(var(--space-4) + 22px) var(--space-3) var(--space-4); font-size:1rem; border-radius:var(--radius-lg); }
.select:hover{ border-color:var(--primary); background-color:var(--surface-muted); }
.select:focus{ border-color:var(--primary); outline:3px solid rgba(37,99,235,0.28); outline-offset:2px; }
.select:disabled{ background:var(--surface-muted); color:var(--text-muted); cursor:not-allowed; }
.select option{ color:var(--text); background:var(--card); }
.date-trigger{ width:100%; display:flex; justify-content:space-between; align-items:center; gap:var(--space-2); padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid var(--border); background:var(--card); color:var(--text); cursor:pointer; font-size:14px; transition:border-color .15s ease, background .15s ease; }
.date-trigger:hover{ border-color:var(--primary); background:var(--surface-muted); }
.date-trigger:focus-visible{ outline:3px solid rgba(37,99,235,0.35); outline-offset:2px; }
.calendar-popover{ position:absolute; top: calc(100% + var(--space-2)); left:0; z-index:20; box-shadow:0 10px 35px rgba(15,23,42,0.15); border-radius:var(--radius-lg); animation: scaleIn 180ms ease-out; }
.row.end{ display:flex; justify-content:flex-end; }
.calendar{ min-width:calc(7 * 36px + 6 * var(--space-1) + 2 * var(--space-3)); display:flex; flex-direction:column; gap:var(--space-2); padding:var(--space-3); background:var(--card); border:1px solid var(--border); border-radius:var(--radius-lg); box-shadow:var(--shadow-soft); }
.calendar-header{ display:flex; align-items:center; justify-content:space-between; font-weight:600; color:var(--text); }
.calendar-nav{ border:none; background:transparent; cursor:pointer; font-size:20px; line-height:1; padding:var(--space-1) var(--space-2); border-radius:var(--radius-sm); color:var(--text-muted); transition:background .15s ease, color .15s ease; }
.calendar-nav:hover{ background:var(--surface-muted); color:var(--text); }
.calendar-month{ font-size:16px; }
.calendar-grid{ display:grid; grid-template-columns: repeat(7, minmax(36px, 1fr)); gap:var(--space-1); }
.calendar-weekdays{ font-size:11px; font-weight:600; text-transform:uppercase; color:var(--text-muted); }
.calendar-weekday{ text-align:center; padding:var(--space-1) 0; }
.calendar-day{ position:relative; border:1px solid transparent; border-radius:var(--radius-md); padding:var(--space-2) 0; background:var(--card); color:var(--text); cursor:pointer; transition:background .15s ease, color .15s ease, border-color .15s ease; }
.calendar-day.today{ border-color:var(--primary); }
.calendar-day.selected{ background:var(--primary); color:var(--primary-contrast); border-color:var(--primary-hover); }
.calendar-day.disabled{ background:var(--surface-muted); color:var(--text-muted); cursor:not-allowed; border-color:var(--border); }
.calendar-day.outside{ color:var(--text-muted); }
.calendar-day:not(.disabled):hover{ border-color:var(--primary); background:var(--surface-muted); }
.calendar-day:focus-visible{ outline:3px solid rgba(37,99,235,0.35); outline-offset:2px; }
.calendar-agenda{ margin:var(--space-3) 0; border:1px solid var(--border); border-radius:var(--radius-md); background:var(--surface-muted); padding:var(--space-3); display:flex; flex-direction:column; gap:var(--space-2); box-shadow:var(--shadow-soft); }
.calendar-agenda-header{ font-weight:600; font-size:14px; color:var(--text); }
.calendar-agenda-list{ margin:0; padding:0; list-style:none; display:flex; flex-direction:column; gap:var(--space-2); }
.calendar-agenda-item{ display:flex; justify-content:space-between; align-items:flex-start; gap:var(--space-3); font-size:13px; color:var(--text-muted); }
.calendar-agenda-time{ font-weight:600; color:var(--text); }
.calendar-agenda-room{ display:flex; flex-direction:column; align-items:flex-end; text-align:right; gap:2px; }
.calendar-agenda-room strong{ color:var(--text); font-weight:600; }
.calendar-agenda-room span{ color:var(--text-muted); font-size:12px; }
.status{ margin-top:var(--space-3); padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid transparent; font-size:14px; }
.status.success{ background:rgba(34,197,94,0.15); border-color:rgba(34,197,94,0.4); color:#10b981; }
.status.error{ background:rgba(248,113,113,0.18); border-color:rgba(248,113,113,0.45); color:#f87171; }

.availability-heatmap{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-3); background:var(--card); margin: var(--space-3) 0; animation: fadeInUp 320ms ease-out; box-shadow:var(--shadow-soft); }
.heatmap-header{ display:flex; justify-content:space-between; font-size:14px; color:var(--text-muted); margin-bottom:var(--space-2); }
.heatmap-legend{ font-style:italic; }
.heatmap-grid{ display:flex; gap:var(--space-2); overflow-x:auto; padding-bottom:var(--space-1); }
.heatmap-grid::-webkit-scrollbar{ height:6px; }
.heatmap-grid::-webkit-scrollbar-track{ background:var(--surface-muted); border-radius:9999px; }
.heatmap-grid::-webkit-scrollbar-thumb{ background:var(--border); border-radius:9999px; }
.heatmap-grid::-webkit-scrollbar-thumb:hover{ background:var(--primary); }
.heatmap-cell{ flex:0 0 110px; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px; padding:var(--space-2); border-radius:var(--radius-md); background:var(--surface-muted); color:var(--text); border:1px solid rgba(148,163,184,0.45); transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease; text-align:center; min-height:88px; }
.heatmap-cell.is-selected{ border-color: var(--primary-hover); transform: translateY(-3px) scale(1.03); box-shadow: 0 12px 24px rgba(30,64,175,0.25), 0 0 0 3px #fff, 0 0 0 5px var(--primary); }
.heatmap-cell:focus-visible{ outline:3px solid rgba(37,99,235,0.6); outline-offset:2px; }
.heatmap-cell.is-selected .heatmap-day,
.heatmap-cell.is-selected .heatmap-date,
.heatmap-cell.is-selected .heatmap-count{ text-shadow:0 1px 0 rgba(0,0,0,0.15); }
.heatmap-cell .heatmap-day{ font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:0.04em; }
.heatmap-cell .heatmap-date{ font-size:13px; font-weight:600; color:var(--text); }
.heatmap-cell .heatmap-count{ font-size:12px; font-weight:600; color:var(--text-muted); }
.heatmap-cell.level-0{ background:var(--surface-muted); }
.heatmap-cell.level-1,
.heatmap-cell.level-2,
.heatmap-cell.level-3{ background:var(--primary); color:var(--primary-contrast); border-color:var(--primary-hover); box-shadow:0 10px 25px rgba(30,64,175,0.15); }
.heatmap-cell.level-1 .heatmap-day,
.heatmap-cell.level-1 .heatmap-date,
.heatmap-cell.level-1 .heatmap-count,
.heatmap-cell.level-2 .heatmap-day,
.heatmap-cell.level-2 .heatmap-date,
.heatmap-cell.level-2 .heatmap-count,
.heatmap-cell.level-3 .heatmap-day,
.heatmap-cell.level-3 .heatmap-date,
.heatmap-cell.level-3 .heatmap-count{ color:var(--primary-contrast); }
.heatmap-cell:hover{ transform:translateY(-2px); box-shadow:0 8px 20px rgba(15,23,42,0.12); }
.heatmap-cell.is-selected,
.heatmap-cell.is-selected:hover{ transform: translateY(-3px) scale(1.03); box-shadow: 0 12px 24px rgba(30,64,175,0.25), 0 0 0 3px #fff, 0 0 0 5px var(--primary); }

.conflict-banner{ display:flex; align-items:center; gap:var(--space-2); margin-bottom:var(--space-3); padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); background:rgba(254,215,170,0.15); color:#c2410c; border:1px solid rgba(251,191,36,0.45); }

.centered{ min-height:100vh; display:flex; align-items:center; justify-content:center; }
.login-card{ width: min(96vw, 420px); display:flex; flex-direction:column; gap:var(--space-3); padding:var(--space-5); border:1px solid var(--border); border-radius:var(--radius-lg); background:var(--card); color:var(--text); box-shadow:var(--shadow-soft); }
.login-card input{ padding:var(--space-2) var(--space-3); border-radius:var(--radius-md); border:1px solid var(--border); background:var(--card); color:var(--text); }

.profile-box{ border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-4); background:var(--card); color:var(--text); animation: fadeInUp 360ms ease-out; box-shadow:var(--shadow-soft); }
.profile-header{ margin-bottom:var(--space-2); display:flex; align-items:center; justify-content:space-between; gap:var(--space-3); flex-wrap:wrap; }
.profile-cards{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:var(--space-3); margin-bottom:var(--space-4); }
.profile-card{ display:flex; flex-direction:column; gap:var(--space-3); border:1px solid var(--border); border-radius:var(--radius-lg); padding:var(--space-3); background:var(--card); box-shadow:var(--shadow-soft); position:relative; overflow:visible; transition:transform .2s ease, box-shadow .2s ease; }
.profile-card:hover{ transform:translateY(-3px); box-shadow:0 20px 40px rgba(15,23,42,0.18); }
.profile-card-warning{ border-color:#f59e0b; box-shadow:0 0 0 1px rgba(245,158,11,0.18); }
.profile-card-header{ display:flex; justify-content:space-between; align-items:flex-start; gap:var(--space-2); }
.profile-card-header h4{ margin:0; font-size:18px; color:var(--text); }
.profile-card-subtitle{ display:flex; align-items:center; gap:var(--space-1); flex-wrap:wrap; font-size:13px; color:var(--text-muted); }
.profile-card-type{ font-weight:600; color:var(--text); }
.profile-card-meta{ display:flex; justify-content:space-between; flex-wrap:wrap; gap:var(--space-2); font-size:13px; color:var(--text-muted); }
.profile-card-time,
.profile-card-relative{ display:inline-flex; align-items:center; gap:4px; }
.profile-card-actions{ display:flex; flex-wrap:wrap; gap:var(--space-2); }
.table{ width:100%; border-collapse:collapse; margin-bottom:var(--space-4); }
.table th, .table td{ border-bottom:1px solid var(--border); text-align:left; padding:var(--space-2) var(--space-1); color:var(--text); }
.table tr.table-row-warning td{ background:rgba(254,243,199,0.45); }
.profile-room-name{ display:flex; flex-direction:column; align-items:flex-start; gap:2px; }
.profile-room-title{ font-weight:600; color:var(--text); }
.profile-room-subtitle{ font-size:12px; color:var(--text-muted); }
.profile-room-status{ display:flex; flex-direction:column; gap:2px; font-size:12px; color:var(--text-muted); }
.profile-room-time{ font-weight:600; color:var(--text); font-size:13px; }
.profile-room-relative{ font-style:italic; }
.sparkline{ display:flex; gap:2px; height:48px; margin-bottom:var(--space-2); align-items:flex-end; }
.sparkline-bar{ flex:1; background:var(--surface-muted); border-radius:var(--radius-sm); overflow:hidden; position:relative; }
.sparkline-fill{ width:100%; background:linear-gradient(180deg, #60a5fa 0%, #2563eb 100%); border-radius:var(--radius-sm); transition:height .15s ease; min-height:6%; }

.skeleton{ position:relative; overflow:hidden; background:linear-gradient(90deg, rgba(148,163,184,0.15) 25%, rgba(148,163,184,0.35) 37%, rgba(148,163,184,0.15) 63%); background-size:400px 100%; animation: shimmer 1.4s infinite ease; border-radius:var(--radius-md); }
.skeleton-text{ display:block; height:12px; width:100%; border-radius:var(--radius-sm); background:transparent; }
.skeleton-btn{ width:120px; height:36px; border-radius:var(--radius-md); }
.table-skeleton{ display:flex; flex-direction:column; gap:var(--space-2); }
.table-skeleton-row{ display:grid; grid-template-columns: repeat(7, minmax(60px, 1fr)); gap:var(--space-2); }

.rooms.is-loading .room-card{ pointer-events:none; }
.heatmap-grid.is-loading .heatmap-cell{ border-color:transparent; }

.skeleton.skeleton-text::before,
.skeleton-btn::before,
.room-card.skeleton::before,
.heatmap-cell.skeleton::before{
  content:'';
  position:absolute;
  inset:0;
  background:linear-gradient(90deg, rgba(243,244,246,0) 0%, rgba(229,231,235,0.8) 50%, rgba(243,244,246,0) 100%);
  background-size:200% 100%;
  animation: shimmer 1.4s infinite;
}

.skeleton-btn,
.room-card.skeleton,
.heatmap-cell.skeleton{ background:rgba(148,163,184,0.2); }
.skeleton-text::before{ height:100%; border-radius:inherit; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; scroll-behavior:auto !important; }
}
.segmented-control{ display:inline-flex; border-radius:9999px; border:1px solid var(--border); padding:4px; background:var(--surface-muted); }
.segment{ border:none; background:transparent; padding:6px 14px; border-radius:9999px; font-weight:600; color:var(--text-muted); cursor:pointer; transition:background .2s ease, color .2s ease; }
.segment.is-active{ background:var(--primary); color:#ffffff; }
.segment:not(.is-active):hover{ background:rgba(37,99,235,0.12); color:var(--text); }
.segment:focus-visible{ outline:3px solid rgba(37,99,235,0.35); outline-offset:2px; }
